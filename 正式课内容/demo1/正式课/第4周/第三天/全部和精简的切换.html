<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        *{ margin:0; padding:0;}
        body {font-size:12px;text-align:center;}
        a { color:#04D; text-decoration:none;}
        a:hover { color:#F50; text-decoration:underline;}
        .SubCategoryBox {width:600px; margin:0 auto; text-align:center;margin-top:40px;}
        .SubCategoryBox ul { list-style:none;}
        .SubCategoryBox ul li { display:block; float:left; width:200px; line-height:20px;}
        .showmore { clear:both; text-align:center;padding-top:10px;}
        .showmore a { display:block; width:120px; margin:0 auto; line-height:24px; border:1px solid #AAA;}
        .showmore a span { padding-left:15px; background:url(down.gif) no-repeat 0 0;}
        .promoted a { color:#F50;}


    </style>
</head>
<body>
<div class="SubCategoryBox">
    <ul>
        <li ><a href="#">佳能</a><i>(30440) </i></li>
        <li ><a href="#">索尼</a><i>(27220) </i></li>
        <li ><a href="#">三星</a><i>(20808) </i></li>
        <li ><a href="#">尼康</a><i>(17821) </i></li>
        <li ><a href="#">松下</a><i>(12289) </i></li>
        <li ><a href="#">卡西欧</a><i>(8242) </i></li>
        <li ><a href="#">富士</a><i>(14894) </i></li>
        <li ><a href="#">柯达</a><i>(9520) </i></li>
        <li ><a href="#">宾得</a><i>(2195) </i></li>
        <li ><a href="#">理光</a><i>(4114) </i></li>
        <li ><a href="#">奥林巴斯</a><i>(12205) </i></li>
        <li ><a href="#">明基</a><i>(1466) </i></li>
        <li ><a href="#">爱国者</a><i>(3091) </i></li>
        <li ><a href="#">其它品牌相机</a><i>(7275) </i></li>
    </ul>
    <div class="showmore">
        <a href="more.html"><span>显示全部品牌</span></a>
    </div>
</div>
<script src="../../js/jquery-1.12.1.js"></script>
<script src="../../../../demo1/正式课/js/Dom.js"></script>
<script>
    var $Lis=$(".SubCategoryBox>ul>li");
    var $ctrlLis=$Lis.filter("li:gt(5):not(:last)");
    var $promotedLis=$Lis.filter(":contains(佳能),:contains(柯达),:contains(爱国者)").addClass("promoted");
//$ctrlLis=$(".SubCategoryBox>ul>li:gt(5):not(:last)");
    $ctrlLis.hide();

    $(".showmore>a").click(function(){
       if($ctrlLis.is(":visible")){
           $ctrlLis.hide();
           $("span",this).text("显示全部品牌").css("background-image","url(down.gif)");
           $promotedLis.removeClass("promoted")
       } else{
           $ctrlLis.show();
           $("span",this).text("显示精简品牌").css("background-image","url(up.gif)");
           $promotedLis.addClass("promoted")
       }
        return false;
    });

    //原生写法
//var oLis = Dom.getElesByClass("SubCategoryBox")[0].getElementsByTagName("li");
////从 6开始 不包含最后一个
//var ctrlLis=[].slice.call(oLis,6,oLis.length-1);
//var promotedLis=[];
//var reg=/佳能|奥林巴斯|明基/;
//for (var t=0;t<oLis.length;t++){
//    if(reg.test(oLis[t].innerHTML)){
//        promotedLis.push(oLis[t]);
//    }
//}
////var ctrlLis = DOM.listToArray(oLis).slice(6,oLis.length - 1);
//for (var i = 0; i < ctrlLis.length; i++) {
//    ctrlLis[i].style.display = "none";
//}
//var oA = Dom.children(Dom.getElesByClass("showmore")[0], "a")[0];
//
//oA.onclick = function () {
//    //
//    var oSpen=Dom.children(this)[0];
//    if(ctrlLis[0].style.display == "none"){//因为批量设置 这些元素是显示或者隐藏 可以使用个别判断发
//        for (var i = 0; i < ctrlLis.length; i++) {
//            ctrlLis[i].style.display = "block";
//        }
//        oSpen.innerHTML=" 全部";
//        oSpen.style.backgroundImage="url(up.gif)";
//        promotedLis.forEach(function (ele,i,ary) {
//            Dom.addClass(ele,"promoted");
//        })
//
//    }else {
//        for (var i = 0; i < ctrlLis.length; i++) {
//            ctrlLis[i].style.display = "none";
//        }
//        oSpen.innerHTML="精品";
//        oSpen.style.backgroundImage="url(down.gif)";
//        promotedLis.forEach(function (ele,i,ary) {
//            Dom.removeClass(ele,"promoted");
//        })
//    }
//    return false;
//}

//var oLis=Dom.getElesByClass("SubCategoryBox")[0].getElementsByTagName("li");
////    var ctrLis=[].slice.call(oLis,6,oLis.length-1);//有兼容问题
//var ctrLis=Dom.listToArray(oLis).slice(6,oLis.length-1);
//for (var i=0;i<ctrLis.length;i++) {
//    ctrLis[i].style.display="none";
//}
//var oA=Dom.children(Dom.getElesByClass("showmore")[0],"a")[0];
//oA.onclick= function () {
//    var oSpan=Dom.children(this)[0];
//    if (ctrLis[0].style.display=="none") {
//        for (var i=0;i<ctrLis.length;i++) {
//            ctrLis[i].style.display="block";
//        }
//        oSpan.innerHTML="显示精简品牌";
//        oSpan.style.backgroundImage="url(up.gif)";
//    }else {
//        for (var j=0;j<ctrLis.length;j++) {
//            ctrLis[j].style.display="none";
//        }
//        oSpan.innerHTML="显示全部品牌";
//        oSpan.style.backgroundImage="url(down.gif)";
//    }
//    return false;
//}

</script>


</body>

</html>