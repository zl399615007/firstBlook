<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        #content{
            height: 700px;
            font-size: 20px;
            text-align: center;
            line-height: 700px;
            background: greenyellow;
        }
    </style>
</head>
<body style="height: 5000px">
<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
<div id="content">
    这是原来的文字！
</div>

</body>
</html>
<script>
//当滚动条变化的时候，计算content是否进入了浏览器的可视窗口
   // window.onscroll//这是浏览器的滚动条发生变化时的事件

    //如何判断content进入了浏览器可视窗口
    //文档向上翻出去的那一部分+浏览器本身的高>content的offsetTop(或者说：content距离文档顶部的绝对偏移量)
    //滚动条的位置（元素向上翻出去的距离）scrollTop
   // document.documentElement.scrollTop||document.body.scrollTop;

    //浏览器的高或宽
   // document.documentElement.clientHeight||document.body.clientHeight;
var oDiv=document.getElementById("content");
function offset(ele){
    var l=ele.offsetLeft;
    var t=ele.offsetTop;
    var p=ele.offsetParent;
    while(p){
        if(window.navigator.userAgent.indexOf("MSIE 8")==-1){

            l+= p.offsetLeft+ p.clientLeft;
            t+= p.offsetTop+ p.clientTop;
        }else{
            l+= p.offsetLeft;
            t+= p.offsetTop
        }
        p= p.offsetParent;//在if判断外面
    }


    return {l:l,t:t};
}
oDiv.t=offset(oDiv).t;//计算出content这个元素距离文档顶部的偏移量，并且把这个量保持在content的自定义属性t上
    //onscroll事件：滚动条事件，没有兼容性问题
    window.onscroll=function(){
        var w=(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight);
        //if(w>offset(content).t+content.offsetHeight){
     //   offset(content).t+content.offsetHeight 盒子底部距离文档顶部的距离
          if(w>oDiv.t+oDiv.offsetHeight){
              oDiv.innerHTML="变你妹"
        }

    }

</script>
