<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //当你实现任何一个功能之前，首先考虑兼容性
    //处理兼容性有两种方式：
    // 1、优雅降级。优先保证最新的浏览器可以使用，其次考虑老旧浏览器
    // 2、渐进增强。先保证老旧浏览器可以用，在最新的浏览器中可以增强效果

    /*
    * ie7+实现的不是很完整，所以ie10以下一般不用这个
    *  chrome firefox safari opera
    * ECMAScript规范
    * ie10以下使用ActiveXObject('Microsoft.XMLHTTP')
    * */
    var xhr=new XMLHttpRequest();

    var ieXHR=new ActiveXObject('Microsoft.XMLHTTP');
    var erge=new ActiveXObject('Msxm12.XMLHTTP');
    var sange=new ActiveXObject('Msxm13.XMLHTTP');

    var getXHR=function (){
        if(window.XMLHttpRequest){
            return new XMLHttpRequest();
        }
        return new ActiveXObject('Microsoft.XMLHTTP');
    };

console.log(getXHR())

    //惰性载入函数：第一次计算得到的值，供内部函数调用，然后用这个内部函数重置外部函数（因为同名），以后就不用计算了，也不用判断分支条件。这时函数就相当于一个被赋值的变量
</script>
</body>
</html>